
MF`r selected_MF`
=====================================
```{r}
df_cov <- subset(df, LIB==params$LIB & VER==params$VER & MF==selected_MF)

```

Row {data-height=200}
-------------------------------------

### Description

MF `r selected_MF` : `r (mfs%>%subset(MF==selected_MF))$MFDES`. 

Showing `r params$LIBVER` distribution of data for MF `r selected_MF`, with matching origins for each MF/MT section. 
 
### Evaluations with MF `r selected_MF` in `r params$LIBVER` {data-width=150}
```{r}
nEval <- dplyr::select(df_cov, Z, A, M) %>% unique() %>% nrow()
nEvalTot <- df %>% subset(LIB==params$LIB & VER==params$VER, select=c(Z, A, M)) %>% unique() %>% nrow()
gauge(nEval, min = 0, max = nEvalTot, gaugeSectors(success = c(0, 10)))
```

### MF `r selected_MF` sections in `r params$LIBVER` {data-width=150}
```{r}
flexdashboard::valueBox(nrow(df_cov), icon = "fa-file")

```

Row  
-------------------------------------
### List of `r params$LIBVER` isotopes containing MF `r selected_MF` data {data-width=750}
```{r}
df_cov %>%
  select(Z, A, M, MT, MTDES, LIBVERORIG) %>%
  data.table::setnames(old=c("LIBVERORIG","MTDES"), new=c("Origin", "Type of data")) %>%
  DT::datatable(filter='top',
                options = list(
                  pageLength=10,
                  rownames=FALSE,
                  autowidth=FALSE,
                  columnDefs=list(list(className='dt-center', targets=0:2))
                  )
                )
```

### Origin histogram of MF `r selected_MF` sections found in `r params$LIBVER` {data-width=400}
```{r}
g <- ggplot(df %>% subset(LIB==params$LIB & VER==params$VER & MF==selected_MF), 
           aes(x = LIBVERORIG)) +
  scale_x_discrete(drop=FALSE) + 
  geom_histogram(stat = "count") +
  coord_flip() +
  guides(fill=FALSE) + #removes legend
  theme_light() +
  labs(y="Number of sections found", x="")

print(g)
# print(g)

```

