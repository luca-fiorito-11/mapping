#!/bin/bash

set -e
FILE="$1"
REGEX="^.\{74\}0.\{5\}$"
csplit "${FILE}" /"${REGEX}"/ {*} --suppress-matched -z --quiet
for file in $(find . -maxdepth 1 -type f -name "xx*")
do
   CHUNK="$(head -1 "$file" | cut -c67-75 | tr ' ' 0)"
   [[ -z $CHUNK || ${#CHUNK} -ne 9 ]] && CHUNK="$(sed -n '2,2 p' "$file" | cut -c67-75 | tr ' ' 0)"
   mv "$file" "$CHUNK"
done
